<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multihop QA Visualization</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Space Grotesk', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e8e8e8;
            padding: 2rem;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(90deg, #00d4ff, #7b2ff7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }
        .stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        .stat {
            background: rgba(255,255,255,0.05);
            padding: 1rem 2rem;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #00d4ff;
        }
        .stat-label { color: #888; font-size: 0.9rem; }
        
        .section {
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255,255,255,0.08);
        }
        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #00d4ff;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .section-title::before {
            content: '';
            width: 4px;
            height: 20px;
            background: linear-gradient(180deg, #00d4ff, #7b2ff7);
            border-radius: 2px;
        }
        
        .chunks-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }
        .chunk {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 1rem;
            border-left: 4px solid;
        }
        .chunk-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        .chunk-id {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            padding: 4px 8px;
            border-radius: 6px;
            background: rgba(255,255,255,0.1);
        }
        .chunk-content {
            font-size: 0.9rem;
            line-height: 1.6;
            color: #ccc;
            max-height: 200px;
            overflow-y: auto;
        }
        .chunk-keywords {
            margin-top: 0.75rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        .keyword-tag {
            font-size: 0.75rem;
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 500;
        }
        
        .keyword-chain {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
        }
        .chain-keyword {
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        .chain-arrow {
            color: #00d4ff;
            font-size: 1.5rem;
        }
        
        .qa-box {
            background: linear-gradient(135deg, rgba(0,212,255,0.1), rgba(123,47,247,0.1));
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(0,212,255,0.3);
        }
        .question {
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 1rem;
        }
        .question-label {
            color: #00d4ff;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .answer {
            background: rgba(0,0,0,0.3);
            padding: 1rem;
            border-radius: 8px;
            line-height: 1.7;
        }
        .answer-label {
            color: #66bb6a;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .search-history {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }
        .search-query {
            background: rgba(255,255,255,0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .iteration {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
        }
        .iteration-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        .iteration-depth {
            font-weight: 600;
            color: #ab47bc;
        }
        .iteration-status {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        .status-complete { background: rgba(102,187,106,0.3); color: #66bb6a; }
        .status-incomplete { background: rgba(255,152,0,0.3); color: #ff9800; }
        
        .keyword { font-weight: 600; }
        
        @media (max-width: 768px) {
            .chunks-container { grid-template-columns: 1fr; }
            .stats { flex-wrap: wrap; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîó Multihop QA Visualization</h1>
        <p class="subtitle">Context ‚Üí Keywords ‚Üí Keyword Chain ‚Üí QA Generation</p>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value">4</div>
                <div class="stat-label">Chunks Used</div>
            </div>
            <div class="stat">
                <div class="stat-value">3</div>
                <div class="stat-label">Hops</div>
            </div>
            <div class="stat">
                <div class="stat-value">2</div>
                <div class="stat-label">Depth Reached</div>
            </div>
            <div class="stat">
                <div class="stat-value">10</div>
                <div class="stat-label">Keywords</div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">üîç Search Queries (Retrieval Process)</div>
            <div class="search-history">
                <div class="search-query">REESS definition automotive</div>
                <div class="search-query">K1(n) factors electrical conversion efficiency automotive</div>
                <div class="search-query">inverter input current voltage automotive</div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">üìÑ Context Chunks with Keywords</div>
            <div class="chunks-container">

                <div class="chunk" style="border-color: #42a5f5;">
                    <div class="chunk-header">
                        <span class="chunk-id">Chunk 47</span>
                        <span style="font-size:0.8rem;color:#888;">INITIAL</span>
                    </div>
                    <div class="chunk-content">Or,<br><br>6.1.3.1.2. At least one of the following conditions (a) to (c) is fulfilled:<br><br>- (a) <span class="keyword" style="background:#42a5f5;padding:2px 4px;border-radius:3px;font-weight:600;">Current</span> and <span class="keyword" style="background:#42a5f5;padding:2px 4px;border-radius:3px;font-weight:600;">voltage</span> at the input to each <span class="keyword" style="background:#42a5f5;padding:2px 4px;border-radius:3px;font-weight:600;">inverter</span> that is powered by the <span class="keyword" style="background:#42a5f5;padding:2px 4px;border-radius:3px;font-weight:600;">REESS</span>  can  be  determined,  and  the  manufacturer  provides  accurate <span class="keyword" style="background:#42a5f5;padding:2px 4px;border-radius:3px;font-weight:600;">K1(n) factors</span> representing the <span class="keyword" style="background:#42a5f5;padding:2px 4px;border-radius:3px;font-weight:600;">electrical conversion efficiency</span> between each input and the corresponding reference point(s).</div>
                    <div class="chunk-keywords">
                        <span class="keyword-tag" style="background:#42a5f533;color:#42a5f5;">electrical conversion efficiency</span>
                        <span class="keyword-tag" style="background:#42a5f533;color:#42a5f5;">current</span>
                        <span class="keyword-tag" style="background:#42a5f533;color:#42a5f5;">REESS</span>
                        <span class="keyword-tag" style="background:#42a5f533;color:#42a5f5;">voltage</span>
                        <span class="keyword-tag" style="background:#42a5f533;color:#42a5f5;">K1(n) factors</span>
                        <span class="keyword-tag" style="background:#42a5f533;color:#42a5f5;">inverter</span>
                    </div>
                </div>

                <div class="chunk" style="border-color: #ff9800;">
                    <div class="chunk-header">
                        <span class="chunk-id">Chunk 51</span>
                        <span style="font-size:0.8rem;color:#888;">RELATED</span>
                    </div>
                    <div class="chunk-content">- (c) <span class="keyword" style="background:#ff9800;padding:2px 4px;border-radius:3px;font-weight:600;">Current</span> and <span class="keyword" style="background:#ff9800;padding:2px 4px;border-radius:3px;font-weight:600;">voltage</span> at the output of the <span class="keyword" style="background:#ff9800;padding:2px 4px;border-radius:3px;font-weight:600;">REESS</span> can be determined, and the <span class="keyword" style="background:#ff9800;padding:2px 4px;border-radius:3px;font-weight:600;">electrical conversion efficiency</span> between the input to each <span class="keyword" style="background:#ff9800;padding:2px 4px;border-radius:3px;font-weight:600;">inverter</span> and the corresponding reference point is identical and is thus represented by the same <span class="keyword" style="background:#ff9800;padding:2px 4px;border-radius:3px;font-weight:600;">K1 factor</span>.</div>
                    <div class="chunk-keywords">
                        <span class="keyword-tag" style="background:#ff980033;color:#ff9800;">K1 factor</span>
                        <span class="keyword-tag" style="background:#ff980033;color:#ff9800;">electrical conversion efficiency</span>
                        <span class="keyword-tag" style="background:#ff980033;color:#ff9800;">current</span>
                        <span class="keyword-tag" style="background:#ff980033;color:#ff9800;">REESS</span>
                        <span class="keyword-tag" style="background:#ff980033;color:#ff9800;">voltage</span>
                        <span class="keyword-tag" style="background:#ff980033;color:#ff9800;">inverter</span>
                    </div>
                </div>

                <div class="chunk" style="border-color: #66bb6a;">
                    <div class="chunk-header">
                        <span class="chunk-id">Chunk 49</span>
                        <span style="font-size:0.8rem;color:#888;">RELATED</span>
                    </div>
                    <div class="chunk-content">- (b) <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">Current</span> and <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">voltage</span> at the output of the <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">REESS</span> can be determined, and the manufacturer provides an accurate <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">K1comb factor</span> representing the combined <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">electrical conversion efficiency</span> of the <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">inverters</span> and <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">electric machines</span> between the <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">REESS</span> and the corresponding reference point(s).</div>
                    <div class="chunk-keywords">
                        <span class="keyword-tag" style="background:#66bb6a33;color:#66bb6a;">electric machines</span>
                        <span class="keyword-tag" style="background:#66bb6a33;color:#66bb6a;">electrical conversion efficiency</span>
                        <span class="keyword-tag" style="background:#66bb6a33;color:#66bb6a;">current</span>
                        <span class="keyword-tag" style="background:#66bb6a33;color:#66bb6a;">REESS</span>
                        <span class="keyword-tag" style="background:#66bb6a33;color:#66bb6a;">voltage</span>
                        <span class="keyword-tag" style="background:#66bb6a33;color:#66bb6a;">inverters</span>
                    </div>
                </div>

                <div class="chunk" style="border-color: #ec407a;">
                    <div class="chunk-header">
                        <span class="chunk-id">Chunk 30</span>
                        <span style="font-size:0.8rem;color:#888;">RELATED</span>
                    </div>
                    <div class="chunk-content">## Vehicle with two powered axles<br><br>1.  Context: The figure is a schematic diagram representing the powertrain architecture of a hybrid electric vehicle (HEV). It illustrates the flow of mechanical power and the interconnection of key components, including the Internal Combustion Engine (ICE), Rechargeable Energy Storage System (REESS), Motor Generators (MG1, MG2), inverters (Inv1, Inv2), and drivetrain components. The diagram aims to depict the power transmission path and component arrangement f</div>
                    <div class="chunk-keywords">
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">üîó Keyword Relationships (Chain)</div>
            <div class="keyword-chain">
                <span class="chain-keyword" style="background:#42a5f533;color:#42a5f5;">REESS</span>
                <span class="chain-arrow">‚Üí</span>
                <span class="chain-keyword" style="background:#42a5f533;color:#42a5f5;">REESS</span>
                <span style="color:#888;font-size:0.85rem;margin:0 1rem;">(energy storage)</span>
                <span class="chain-keyword" style="background:#ff980033;color:#ff9800;">inverter</span>
                <span class="chain-arrow">‚Üí</span>
                <span class="chain-keyword" style="background:#ff980033;color:#ff9800;">inverter</span>
                <span style="color:#888;font-size:0.85rem;margin:0 1rem;">(power conversion)</span>
                <span class="chain-keyword" style="background:#66bb6a33;color:#66bb6a;">electrical conversion efficiency</span>
                <span class="chain-arrow">‚Üí</span>
                <span class="chain-keyword" style="background:#66bb6a33;color:#66bb6a;">electrical conversion efficiency</span>
                <span style="color:#888;font-size:0.85rem;margin:0 1rem;">(energy loss)</span>
            </div>
        </div>

        <div class="section">
            <div class="section-title">üìä Retrieval Iterations</div>

            <div class="iteration">
                <div class="iteration-header">
                    <span class="iteration-depth">Depth 1</span>
                    <span class="iteration-status status-incomplete">INCOMPLETE</span>
                </div>
                <p style="color:#aaa;font-size:0.9rem;">The chunk refers to REESS and K1(n) factors without defining them, and assumes knowledge of inverter configurations in an automotive context.</p>
                <p style="color:#888;font-size:0.85rem;margin-top:0.5rem;">Chunks added: 3</p>
            </div>

            <div class="iteration">
                <div class="iteration-header">
                    <span class="iteration-depth">Depth 2</span>
                    <span class="iteration-status status-complete">COMPLETE</span>
                </div>
                <p style="color:#aaa;font-size:0.9rem;">The chunk provides sufficient context regarding the HEV powertrain architecture and component interconnections.</p>
                <p style="color:#888;font-size:0.85rem;margin-top:0.5rem;">Chunks added: 0</p>
            </div>
        </div>

        <div class="section">
            <div class="section-title">‚ùì Generated Question & Answer</div>
            <div class="qa-box">
                <div class="question-label">Question:</div>
                <div class="question">
In a hybrid electric vehicle (HEV) where <span class="keyword" style="background:#00d4ff;padding:2px 4px;border-radius:3px;font-weight:600;">current</span> and <span class="keyword" style="background:#00d4ff;padding:2px 4px;border-radius:3px;font-weight:600;">voltage</span> at the output of the <span class="keyword" style="background:#00d4ff;padding:2px 4px;border-radius:3px;font-weight:600;">REESS</span> can be determined, what are the two possible methods for representing the <span class="keyword" style="background:#00d4ff;padding:2px 4px;border-radius:3px;font-weight:600;">electrical conversion efficiency</span> between the <span class="keyword" style="background:#00d4ff;padding:2px 4px;border-radius:3px;font-weight:600;">REESS</span> and the reference point(s), and what components are considered in each method?
                </div>
                <div class="answer-label">Answer:</div>
                <div class="answer">
One method uses a <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">K1comb factor</span> representing the combined <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">electrical conversion efficiency</span> of the <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">inverters</span> and <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">electric machines</span> between the <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">REESS</span> and the reference point(s). The other method uses a <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">K1 factor</span>, where the <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">electrical conversion efficiency</span> between the input to each <span class="keyword" style="background:#66bb6a;padding:2px 4px;border-radius:3px;font-weight:600;">inverter</span> and the corresponding reference point is identical.
                </div>
            </div>
        </div>
        
        <div style="text-align:center;color:#666;padding:2rem 0;font-size:0.9rem;">
            Generated by Multihop QA Pipeline | Keywords highlighted show concept linkage across chunks
        </div>
    </div>
</body>
</html>
